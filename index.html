<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>BuzzPi</title>
  <link rel="stylesheet" href="styles.css" />
  <meta name="theme-color" content="#0b0b0e" />
</head>
<body>
  <!-- ===== SVG ICONS (inline, no external assets needed) ===== -->
  <svg width="0" height="0" style="position:absolute;visibility:hidden" aria-hidden="true" focusable="false">
    <defs>
      <!-- BuzzCoin gradients & filters -->
      <linearGradient id="bz-gold" x1="14%" y1="6%" x2="86%" y2="94%">
        <stop offset="0%"  stop-color="#FFE39A"/>
        <stop offset="55%" stop-color="#F7B25F"/>
        <stop offset="100%" stop-color="#C6712C"/>
      </linearGradient>
      <filter id="bz-glow" x="-30%" y="-30%" width="160%" height="160%">
        <feGaussianBlur in="SourceAlpha" stdDeviation="2" result="b"/>
        <feMerge>
          <feMergeNode in="b"/>
          <feMergeNode in="SourceGraphic"/>
        </feMerge>
      </filter>

      <!-- Honeypot gradients -->
      <linearGradient id="hp-jar" x1="50%" y1="0%" x2="50%" y2="100%">
        <stop offset="0%"  stop-color="#3A221A"/>
        <stop offset="100%" stop-color="#1A0F0C"/>
      </linearGradient>
      <linearGradient id="hp-honey" x1="50%" y1="0%" x2="50%" y2="100%">
        <stop offset="0%"  stop-color="#FFD36A"/>
        <stop offset="55%" stop-color="#FFB347"/>
        <stop offset="100%" stop-color="#E07A2E"/>
      </linearGradient>
      <radialGradient id="hp-glow" cx="50%" cy="45%" r="60%">
        <stop offset="0%" stop-color="rgba(255,200,120,.45)"/>
        <stop offset="65%" stop-color="rgba(255,160,70,.25)"/>
        <stop offset="100%" stop-color="rgba(0,0,0,0)"/>
      </radialGradient>
    </defs>
  </svg>

  <!-- ===== App ===== -->
  <div id="app" class="app">
    <!-- Top bar -->
    <header class="topbar">
      <div class="topbar__title">BuzzPi</div>
      <div class="balance" aria-live="polite">
        <!-- Inline BuzzCoin icon -->
        <svg class="balance__icon" viewBox="0 0 128 128" role="img" aria-label="BuzzCoin">
          <circle cx="64" cy="64" r="58" fill="url(#bz-gold)" filter="url(#bz-glow)"/>
          <circle cx="64" cy="64" r="58" fill="none" stroke="rgba(255,255,255,.35)" stroke-width="2"/>
          <circle cx="64" cy="64" r="52" fill="none" stroke="rgba(0,0,0,.15)" stroke-width="2"/>
          <!-- Stylized ‚Äú1‚Äù -->
          <path d="M72 86c0 4.4-3.6 8-8 8s-8-3.6-8-8V46.5l-3.6 2.8c-3.5 2.8-8.6 2.2-11.4-1.3-2.8-3.5-2.2-8.6 1.3-11.4l12.7-10c2.2-1.7 5-2.7 7.8-2.7 7 0 12.7 5.7 12.7 12.7V86z"
                fill="#6D430F" opacity=".92"/>
        </svg>
        <span id="balanceAmount" class="balance__amount">0</span>
      </div>
    </header>

    <!-- Feed tabs -->
    <nav class="tabs">
      <button class="tab active" data-tab="following">Following</button>
      <button class="tab" data-tab="popular">Popular</button>
      <button class="tab" data-tab="nearby">Nearby</button>
      <button class="tab" data-tab="new">New</button>
    </nav>

    <!-- Pages -->
    <main id="pageRoot" class="page">
      <section id="feedPage" class="page__view page__view--active">
        <h1 class="page__title">Feed</h1>
        <p class="page__hint">Following feed placeholder.</p>
      </section>

      <section id="giftsPage" class="page__view">
        <h1 class="page__title">Gifts</h1>
        <p class="page__hint">Choose a gift to test animations.</p>
      </section>

      <section id="walletPage" class="page__view">
        <h1 class="page__title">Wallet</h1>
        <div class="card">
          <p>This demo wallet only tracks local BuzzCoin for testing gifts.</p>
          <div class="row gap">
            <button id="devAdd100" class="btn btn--primary">Dev +100</button>
            <button id="resetBalance" class="btn btn--ghost">Reset balance</button>
          </div>
        </div>
      </section>

      <section id="profilePage" class="page__view">
        <h1 class="page__title">Profile</h1>
        <p class="page__hint">Profile placeholder.</p>
      </section>
    </main>

    <!-- Honeypot FAB (inline SVG) -->
    <button id="fabGift" class="fab" aria-label="Open gifts">
      <span class="fab__halo"></span>
      <svg class="fab__icon" viewBox="0 0 128 128" role="img" aria-label="Honeypot">
        <!-- Outer glow -->
        <circle cx="64" cy="64" r="60" fill="url(#hp-glow)"/>
        <!-- Jar body -->
        <rect x="28" y="34" width="72" height="70" rx="16" fill="url(#hp-jar)"/>
        <!-- Honey inside -->
        <path d="M36 58c10-8 22-8 32 0s22 8 32 0v30c0 8-6 14-14 14H50c-8 0-14-6-14-14V58z"
              fill="url(#hp-honey)"/>
        <!-- Lip / lid -->
        <rect x="24" y="24" width="80" height="16" rx="8" fill="#3D2A21"/>
        <rect x="30" y="26" width="68" height="12" rx="6" fill="#5A3A2D"/>
        <!-- Highlights -->
        <path d="M42 44c0 10 8 6 18 0" stroke="rgba(255,240,210,.55)" stroke-width="4" stroke-linecap="round"/>
        <path d="M48 82c6 4 18 4 24 0" stroke="rgba(255,210,120,.55)" stroke-width="6" stroke-linecap="round"/>
        <!-- Small drip -->
        <path d="M86 60c4 6 4 10 0 14" stroke="#F2A547" stroke-width="4" stroke-linecap="round"/>
      </svg>
    </button>

    <!-- Sound toggle -->
    <div class="sound">
      <button id="soundToggle" class="sound__btn" aria-pressed="true">
        <span class="sound__dot" aria-hidden="true"></span>
        <span id="soundLabel">On</span>
      </button>
    </div>

    <!-- Bottom navigation -->
    <nav class="tabbar" aria-label="Primary">
      <button class="tabbar__item" data-page="home">
        <span class="tabbar__emoji">üè†</span>
        <span class="tabbar__label">Home</span>
      </button>
      <button class="tabbar__item" data-page="gifts">
        <span class="tabbar__emoji">üéÅ</span>
        <span class="tabbar__label">Gifts</span>
      </button>
      <div class="tabbar__spacer" aria-hidden="true"></div>
      <button class="tabbar__item" data-page="wallet">
        <span class="tabbar__emoji">üí∞</span>
        <span class="tabbar__label">Wallet</span>
      </button>
      <button class="tabbar__item" data-page="profile">
        <span class="tabbar__emoji">üë§</span>
        <span class="tabbar__label">Profile</span>
      </button>
    </nav>
  </div>
<!-- Dev Tools (only shows in Pi Browser) -->
<div id="dev-tools" class="dev-tools hidden">
  <button data-act="init">Init</button>
  <button data-act="signin">Sign In</button>
  <button data-act="pay">Test Pay</button>
</div>

  <!-- Your existing app logic -->
  <script src="app.js"></script>

<!-- Pi Dev Tools (only shows in Pi Browser) -->
<div id="piTools" class="pi-tools hidden">
  <div class="pi-tools-card">
    <div class="pi-tools-title">Pi SDK</div>
    <div class="pi-tools-row">
      <button id="btnPiInit" class="btn btn-primary">Init SDK</button>
      <span id="piInitState" class="pi-state">not inited</span>
    </div>
    <div class="pi-tools-row">
      <button id="btnPiSignIn" class="btn">Sign in (username)</button>
      <span id="piUserState" class="pi-state">no user</span>
    </div>
    <div class="pi-tools-row">
      <button id="btnPiClear" class="btn btn-danger">Clear Pi session</button>
    </div>
  </div>
</div>
</body>
</html>