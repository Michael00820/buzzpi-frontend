<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>BuzzPi ‚Ä¢ Demo</title>
<style>
  :root{
    --bg:#0c0c10;--panel:#16161d;--panel-2:#1c1c25;
    --txt:#eaeaf2;--muted:#a7a7b7;--brand:#7b5cff;--accent:#ffb347;
    --shadow:0 10px 30px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.03);
    --radius:14px;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;background:radial-gradient(1200px 700px at 50% -200px,#181830 0%,#0c0c10 55%) fixed;
    color:var(--txt);font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,sans-serif;
    -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
  }

  /* Top bar */
  .topbar{
    position:sticky;top:0;z-index:30;background:linear-gradient(180deg,rgba(12,12,16,.9),rgba(12,12,16,.6));
    backdrop-filter: blur(8px); padding: env(safe-area-inset-top) 16px 10px 16px; border-bottom:1px solid rgba(255,255,255,.06);
  }
  .toprow{display:flex;align-items:center;gap:12px}
  .brandDot{width:22px;height:22px;border-radius:6px;background:#f3b93d;box-shadow:var(--shadow)}
  .brand{font-weight:700;letter-spacing:.2px}
  .coins{
    margin-left:auto; display:flex; align-items:center; gap:8px; padding:6px 10px;
    background:linear-gradient(180deg,#1d1a14,#15120e); border:1px solid rgba(255,200,90,.25);
    border-radius:999px; box-shadow:0 6px 18px rgba(0,0,0,.35);
  }
  .coin{font-size:18px}
  .bal{font-weight:700; min-width:56px; text-align:right}

  /* Tabs row */
  .tabs{display:flex; gap:10px; padding:12px 0 6px 0; overflow:auto}
  .chip{
    flex:0 0 auto; padding:10px 14px; border-radius:999px; background:#1a1a22; color:var(--muted);
    border:1px solid rgba(255,255,255,.05);
  }
  .chip.active{background:var(--brand); color:white; box-shadow:0 6px 22px rgba(123,92,255,.35)}

  /* Content */
  .content{padding:16px; padding-bottom:calc(120px + env(safe-area-inset-bottom));}
  .card{background:var(--panel); border:1px solid rgba(255,255,255,.07); border-radius:var(--radius); padding:16px; box-shadow:var(--shadow); margin-bottom:12px}
  .subtitle{color:var(--muted); font-size:14px}

  /* Bottom nav */
  .nav{
    position:fixed; left:0; right:0; bottom:0; z-index:25;
    padding-bottom:calc(8px + env(safe-area-inset-bottom)); padding-top:10px;
    background:linear-gradient(180deg,rgba(12,12,16,.1),rgba(12,12,16,.85) 35%,rgba(12,12,16,.95));
    backdrop-filter: blur(10px); border-top:1px solid rgba(255,255,255,.06);
  }
  .navRow{display:flex; align-items:center; justify-content:space-around; gap:6px; padding:0 12px}
  .navBtn{
    flex:1 1 0; min-width:0; display:flex; flex-direction:column; align-items:center; gap:4px;
    color:var(--muted); text-decoration:none; font-size:12px; padding:6px 4px; border-radius:10px;
  }
  .navBtn .ico{font-size:20px; line-height:1}
  .navBtn.active{color:#fff}

  /* Floating honeypot */
  .honeypot{
    position:fixed; left:50%; translate:-50% 0; bottom:calc(64px + env(safe-area-inset-bottom));
    width:86px;height:86px;border-radius:50%;
    background:radial-gradient(60% 60% at 50% 40%, #ffdf9a 0%, #ffba4a 45%, #d86a24 100%);
    box-shadow:0 18px 40px rgba(255,186,74,.35), inset 0 2px 12px rgba(255,255,255,.28);
    display:grid;place-items:center; z-index:40; border:1px solid rgba(255,255,255,.25)
  }
  .honeypot:before{
    content:""; position:absolute; inset:-12px; border-radius:50%; background:radial-gradient(50% 50% at 50% 50%, rgba(255,180,64,.35), transparent 70%);
    filter:blur(8px); z-index:-1;
  }
  .honeypot .jar{font-size:36px; filter: drop-shadow(0 5px 10px rgba(0,0,0,.35))}
  .honeypot:active{scale:.98}

  /* Sound toggle (small, bottom-right) */
  .sound{
    position:fixed; right:16px; bottom:calc(64px + env(safe-area-inset-bottom));
    z-index:45; padding:8px 10px; border-radius:999px;
    background:#1a1a22; border:1px solid rgba(255,255,255,.08); color:#fff; font-size:14px;
    opacity:.9; transition:opacity .25s ease, transform .25s ease;
    box-shadow:var(--shadow)
  }
  .sound.hide{opacity:0; pointer-events:none; transform:translateY(6px)}

  /* Toast */
  .toast{
    position:fixed; left:50%; bottom:calc(120px + env(safe-area-inset-bottom));
    translate:-50% 0; background:#2a2a33; color:#fff; padding:10px 14px; border-radius:10px;
    border:1px solid rgba(255,255,255,.08); box-shadow:var(--shadow); z-index:50; opacity:0; transform:translateY(6px);
    transition:opacity .25s ease, transform .25s ease;
  }
  .toast.show{opacity:1; transform:translateY(0)}
</style>
</head>
<body>

  <!-- Top bar -->
  <div class="topbar">
    <div class="toprow">
      <div class="brandDot" aria-hidden="true"></div>
      <div class="brand">BuzzPi</div>

      <div class="coins" id="coinBadge" title="BuzzCoin balance">
        <span class="coin">ü™ô</span>
        <span class="bal" id="balance">300</span>
      </div>
    </div>

    <!-- tabs / segments -->
    <div class="tabs" id="tabs">
      <button class="chip active">Following</button>
      <button class="chip">Popular</button>
      <button class="chip">Nearby</button>
      <button class="chip">New</button>
    </div>
  </div>

  <!-- Content area -->
  <main class="content" id="content">
    <section class="card">
      <h2 style="margin:0 0 6px">Wallet</h2>
      <p class="subtitle">This demo wallet only tracks local BuzzCoin for testing gifts.</p>
      <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:12px">
        <button class="chip" id="devUp">Dev +100</button>
        <button class="chip" id="reset">Reset balance</button>
      </div>
    </section>

    <section class="card">
      <h3 style="margin:0 0 8px">Gifts</h3>
      <p class="subtitle">Open the Gifts panel from the bottom bar to try effects.</p>
    </section>
  </main>

  <!-- Bottom navigation -->
  <nav class="nav" aria-label="Primary">
    <div class="navRow" id="navRow">
      <a class="navBtn active" data-view="home" href="javascript:void(0)">
        <div class="ico">üè†</div><div>Home</div>
      </a>
      <a class="navBtn" data-view="gifts" href="javascript:void(0)">
        <div class="ico">üéÅ</div><div>Gifts</div>
      </a>
      <a class="navBtn" data-view="wallet" href="javascript:void(0)">
        <div class="ico">üí∞</div><div>Wallet</div>
      </a>
      <a class="navBtn" data-view="profile" href="javascript:void(0)">
        <div class="ico">üë§</div><div>Profile</div>
      </a>
    </div>
  </nav>

  <!-- Floating honeypot (go live / special action) -->
  <button class="honeypot" id="honeypot" aria-label="Start Live">
    <span class="jar">üçØ</span>
  </button>

  <!-- Sound toggle -->
  <button class="sound hide" id="soundBtn" aria-label="Sound on/off">üîä On</button>

  <div class="toast" id="toast">Saved</div>

<script>
(function(){
  const $ = (sel,root=document)=>root.querySelector(sel);
  const $$ = (sel,root=document)=>[...root.querySelectorAll(sel)];
  const safe = (fn)=>{ try{ return fn() }catch(e){ console.debug(e); return null } };

  /* State */
  let balance = 300;
  let soundOn = true;
  const balanceEl = $('#balance');
  const toast = $('#toast');
  const soundBtn = $('#soundBtn');

  function updateBalance(){
    if(balanceEl) balanceEl.textContent = String(balance);
  }
  function showToast(msg='Saved'){
    if(!toast) return;
    toast.textContent = msg;
    toast.classList.add('show');
    setTimeout(()=>toast.classList.remove('show'), 1500);
  }

  /* Top chips */
  const tabs = $('#tabs');
  if(tabs){
    tabs.addEventListener('click', (e)=>{
      const chip = e.target.closest('.chip');
      if(!chip) return;
      $$('.chip', tabs).forEach(c=>c.classList.remove('active'));
      chip.classList.add('active');
      showToast(chip.textContent.trim());
    });
  }

  /* Wallet demo buttons */
  safe(()=>$('#devUp').addEventListener('click', ()=>{ balance+=100; updateBalance(); showToast('+100 BuzzCoin') }));
  safe(()=>$('#reset').addEventListener('click', ()=>{ balance=0; updateBalance(); showToast('Balance reset') }));

  /* Bottom nav */
  const navRow = $('#navRow');
  if(navRow){
    navRow.addEventListener('click', (e)=>{
      const btn = e.target.closest('.navBtn');
      if(!btn) return;
      $$('.navBtn', navRow).forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      const view = btn.dataset.view;
      route(view);
    });
  }

  /* Routes (demo content swap) */
  const content = $('#content');
  function route(view='home'){
    if(!content) return;
    if(view==='wallet'){
      content.innerHTML = `
        <section class="card">
          <h2 style="margin:0 0 6px">Wallet</h2>
          <p class="subtitle">This demo wallet only tracks local BuzzCoin for testing gifts.</p>
          <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:12px">
            <button class="chip" id="devUp">Dev +100</button>
            <button class="chip" id="reset">Reset balance</button>
          </div>
        </section>`;
      safe(()=>$('#devUp').addEventListener('click', ()=>{ balance+=100; updateBalance(); showToast('+100 BuzzCoin') }));
      safe(()=>$('#reset').addEventListener('click', ()=>{ balance=0; updateBalance(); showToast('Balance reset') }));
    } else if(view==='gifts'){
      content.innerHTML = `
        <section class="card">
          <h2 style="margin:0 0 6px">Gifts</h2>
          <p class="subtitle">Tap a gift to see its animation. (Demo subset)</p>
          <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:12px">
            <button class="chip" data-gift="phoenix">üî• Phoenix</button>
            <button class="chip" data-gift="unicorn">ü¶Ñ Unicorn</button>
            <button class="chip" data-gift="jet">üõ©Ô∏è Jet</button>
          </div>
        </section>`;
      const wrap = content;
      wrap.addEventListener('click', (e)=>{
        const g = e.target.closest('.chip');
        if(!g) return;
        playGift(g.dataset.gift);
      });
    } else if(view==='profile'){
      content.innerHTML = `
        <section class="card">
          <h2 style="margin:0 0 6px">Profile</h2>
          <p class="subtitle">Coming soon.</p>
        </section>`;
    } else {
      content.innerHTML = `
        <section class="card">
          <h2 style="margin:0 0 6px">Feed</h2>
          <p class="subtitle">Following feed placeholder.</p>
        </section>`;
    }
    window.scrollTo({top:0,behavior:'smooth'});
  }

  /* Floating honeypot action */
  safe(()=>$('#honeypot').addEventListener('click', ()=>{
    showToast('Start Live (demo)');
  }));

  /* Sound toggle */
  function refreshSoundLabel(){
    if(soundBtn) soundBtn.textContent = (soundOn?'üîä On':'üîà Off');
  }
  if(soundBtn){
    soundBtn.addEventListener('click', ()=>{
      soundOn = !soundOn; refreshSoundLabel();
      showToast(soundOn?'Sound on':'Sound off');
    });
    // Auto show briefly on first interaction
    setTimeout(()=>soundBtn.classList.remove('hide'), 300);
    setTimeout(()=>soundBtn.classList.add('hide'), 3500);
  }

  /* Gift demo effects (simple placeholders ‚Äî your richer effects live in your separate JS) */
  function playGift(kind){
    if(balance<=0){ showToast('Not enough BuzzCoin'); return; }
    balance -= 1; updateBalance();

    const fx = document.createElement('div');
    fx.style.position='fixed'; fx.style.inset='0'; fx.style.pointerEvents='none'; fx.style.zIndex='60';
    fx.style.display='grid'; fx.style.placeItems='center';
    document.body.appendChild(fx);

    const span = document.createElement('div');
    span.style.fontSize='64px';
    span.style.filter='drop-shadow(0 12px 20px rgba(0,0,0,.45))';
    span.style.transition='transform 5s cubic-bezier(.2,.7,.1,1), opacity .6s ease';
    fx.appendChild(span);

    if(kind==='phoenix'){ span.textContent='üî•'; span.style.transform='scale(0.6) translateY(40px)'; requestAnimationFrame(()=>{ span.style.transform='scale(1.4) translateY(-80px) rotate(5deg)'; }); }
    else if(kind==='unicorn'){ span.textContent='ü¶Ñ'; span.style.transform='translateX(-60vw) rotate(-12deg)'; requestAnimationFrame(()=>{ span.style.transform='translateX(60vw) rotate(8deg)'; }); }
    else { span.textContent='üõ©Ô∏è'; span.style.transform='translateX(-70vw)'; requestAnimationFrame(()=>{ span.style.transform='translateX(70vw)'; }); }

    setTimeout(()=>{ span.style.opacity='0'; }, 4800);
    setTimeout(()=>{ fx.remove(); }, 5600);
  }

  /* Init */
  updateBalance(); refreshSoundLabel(); route('home');

})();
</script>
</body>
</html>